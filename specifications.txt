# This is an example numtfilter specifications file.
# Use this file to detail how per-ASV read frequencies should be assessed.

# 1 Read frequencies can be binned according to four categories or combinations of these categories
# The four available categories are:
	# "total" = the total number of reads for a haplotype across the entire dataset
	# "library" = the number of reads of a haplotype per library
	# "clade" = the clade assignment of a haplotype
	# "taxon" = the taxon assignment of a haplotype

# Binning specification must start with either "total" or "library". Counts will be further subdivided by any assignment term(s).
# For example: "total|clade" will bin reads by clade over the dataset
#		"library" will use the per-library haplotype reads
#		"library|taxon+clade" will bin reads by unique clade and taxon within each library

# 2 Frequency can be assessed as one of two metrics, specified as follows:
	# "n" = the absolute total of reads per haplotype within a category or combination of categories
	# "p" = the proportion of reads per haplotype relative to the total number of reads of all haplotypes within a category or combination of categories

# 3 Thresholds for designating numts can be specified as a single value or a range of values, or a set of single values or ranges
# Ranges are specified in the form "start-stop/nsteps", i.e. 1-2/5 will run with threshold values of [1, 1.25. 1.5, 1.75, 2]
# Sets are specified in the form "a,b,c", and can be single values or ranges, for example "1,2,3,4-10/4" will expand to [1, 2, 3, 4, 6, 8, 10]

# Multiple sets of these three specifications (category/categories, metric and threshold(s)) can be supplied, one per line, each separated by one or more tabs:

# Lines starting with # will be ignored

# EXAMPLE 

# total			n	2-10/5
# library		p	0.1
# library|clade		p	0.15
# total|taxon		n	5
# library|clade+taxon	p	0.03-0.07/3

# EXPLANATION
# Designate as numts any ASVs with:

# Fewer than 2, 4, 6, 8 or 10 reads across the entire dataset
# Less than 10% of the total library reads within all libraries in which they occur
# Less than 15% of the total reads for their clade within all libraries in which they occur
# Fewer than 5 reads within their taxon over the entire dataset (binning by taxon is redundant here)
# Less than 3%, 5% or 7% of the total reads for their taxon within their clade within all libraries in which they occur

# Note that more strict filtering can be applied by setting --anythreshold, whereby ASVs will be filtered if they fail to meet the threshold in any library in which they occur, as opposed to the default all libraries in which they occur.

# DEFAULT (# out to overwrite)
library		n	3-5/3,8-12/2,15-50/8,60-100/5
library		p	0.0025,0.005-0.007/14,0.008-0.01/3
#library|taxon		p	0.001-0.4/15
library|clade		p	0.001,0.0025,0.005-0.065/12,0.075,0.09,0.1-0.4/7,0.5-0.9/5
